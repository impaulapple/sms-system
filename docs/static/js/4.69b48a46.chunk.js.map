{"version":3,"sources":["modules/SMS_Module/TabPanel.js","modules/SMS_Module/DataSource.js","modules/SMS_Module/index.js"],"names":["TabPanel","children","value","index","other","role","hidden","id","aria-labelledby","Box","p","theme","createTheme","overrides","MuiTabs","scrollButtonsDesktop","backgroundColor","MuiTab","wrapper","textTransform","MuiOutlinedInput","inputMarginDense","padding","DataSource","t","useTranslation","React","useState","paramValue","setValue","paramEditingCaption","setEditingCaption","caption","isEdit","content","paramDataSourceList","setDataSourceList","updateTabNameFunc","e","sNowId","target","validIsEmpty","parentElement","aNewList","slice","i","iL","length","parseInt","editTabCaptionFunc","saveCaptionFunc","charCode","type","sNewCaption","uploadFileFunc","aFiles","oFile","aaa","path","oFReader","FileReader","readAsDataURL","console","log","saveFunc","a","b","c","testFunc","ThemeProvider","sx","bgcolor","Tabs","style","width","onChange","event","newValue","variant","scrollButtons","map","obj","Tab","icon","TextField","hiddenLabel","autoFocus","toString","size","onBlur","onKeyPress","label","onDoubleClick","minWidth","background","onClick","iMaxId","Math","max","apply","o","push","heigth","acceptedFiles","filesLimit","maxFileSize","dropzoneText","onSave","initialFiles","useStyles","makeStyles","root","flexGrow","palette","paper","display","height","tabs","borderRight","divider","test","SMSPage","classes","aTabList","component","className","orientation","aria-label","componentsprops","indicator"],"mappings":"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","file":"static/js/4.69b48a46.chunk.js","sourcesContent":["import { Box } from \"@material-ui/core\";\r\nimport React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst TabPanel = ({ children, value, index, ...other }) => {\r\n    return (\r\n        <div\r\n            role=\"tabpanel\"\r\n            hidden={value !== index}\r\n            id={`vertical-tabpanel-${index}`}\r\n            aria-labelledby={`vertical-tab-${index}`}\r\n            {...other}\r\n        >\r\n            {value === index && (\r\n                <Box p={3}>\r\n                    {children}\r\n                </Box>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default TabPanel;","import { Box, Tabs, Tab, TextField } from \"@material-ui/core\";\r\nimport React from 'react';\r\nimport TabPanel from \"./TabPanel\";\r\nimport { useTranslation } from 'react-i18next';\r\nimport { createTheme, ThemeProvider } from '@material-ui/core/styles';\r\nimport { validIsEmpty } from \"../../api/Validator\";\r\nimport { DropzoneArea } from 'material-ui-dropzone';\r\nimport csvToJson from 'convert-csv-to-json';\r\n\r\n\r\nconst theme = createTheme({\r\n    overrides: {\r\n        MuiTabs: {\r\n            scrollButtonsDesktop: {\r\n                backgroundColor: 'rgb(0 0 0 / 13%)'\r\n            }\r\n        },\r\n        MuiTab: {\r\n            wrapper: {\r\n                textTransform: \"none\"\r\n            }\r\n        },\r\n        MuiOutlinedInput: {\r\n            inputMarginDense: {\r\n                padding: \"6px 10.5px !important\"\r\n            }\r\n        }\r\n    }\r\n});\r\n\r\nconst DataSource = () => {\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const [paramValue, setValue] = React.useState(0);\r\n    const [paramEditingCaption, setEditingCaption] = React.useState(\"\");\r\n\r\n    const [paramDataSourceList, setDataSourceList] = React.useState([\r\n        {\r\n            id: 123,\r\n            caption: 'newTable',\r\n            isEdit: false,\r\n            content: null\r\n        },\r\n        {\r\n            id: 124,\r\n            caption: 'test2',\r\n            isEdit: false,\r\n            content: null\r\n        }\r\n    ]);\r\n\r\n    const handleChange = (event, newValue) => {\r\n        setValue(newValue);\r\n    };\r\n\r\n    const updateTabNameFunc = (e) => {\r\n        let sNowId = e.target.id;\r\n        if (validIsEmpty(sNowId)) sNowId = e.target.parentElement.id\r\n        if (validIsEmpty(sNowId)) return;\r\n\r\n        let aNewList = paramDataSourceList.slice();\r\n        for (let i = 0, iL = aNewList.length; i < iL; i++) {\r\n            if (aNewList[i].id === parseInt(sNowId)) {\r\n                aNewList[i].isEdit = true;\r\n                setEditingCaption(aNewList[i].caption);\r\n                break;\r\n            }\r\n        }\r\n        setDataSourceList(aNewList);\r\n    }\r\n\r\n    const editTabCaptionFunc = (e) => {\r\n        setEditingCaption(e.target.value);\r\n    }\r\n\r\n    const saveCaptionFunc = (e) => {\r\n        if (e.charCode !== 13 && e.type !== \"blur\") return;\r\n        let sNewCaption = e.target.value;\r\n        let sNowId = e.target.id;\r\n\r\n        let aNewList = paramDataSourceList.slice();\r\n        for (let i = 0, iL = aNewList.length; i < iL; i++) {\r\n            if (aNewList[i].id === parseInt(sNowId)) {\r\n                aNewList[i].isEdit = false;\r\n                aNewList[i].caption = sNewCaption;\r\n                break;\r\n            }\r\n        }\r\n        setDataSourceList(aNewList);\r\n    }\r\n\r\n    const addNewDataSourceFunc = (e) => {\r\n\r\n        let aNewList = paramDataSourceList.slice();\r\n        let iMaxId = Math.max.apply(null, aNewList.map(o => o.id));\r\n\r\n        aNewList.push({\r\n            id: ++iMaxId,\r\n            caption: t('newTable') + (aNewList.length + 1),\r\n            isEdit: false\r\n        });\r\n\r\n        setDataSourceList(aNewList);\r\n    }\r\n\r\n    const uploadFileFunc = (aFiles) => {\r\n\r\n        if (validIsEmpty(aFiles)) return;\r\n        let oFile = aFiles[0];\r\n\r\n        let aaa = oFile.path;\r\n        \r\n        var fileContent = null;\r\n\r\n        var oFReader = new FileReader();\r\n        oFReader.readAsDataURL(oFile);\r\n        // let aa = csvToJson.utf8Encoding().getJsonFromCsv(oFReader.result);\r\n        console.log(oFReader )\r\n        console.log(oFile, aaa)\r\n    }\r\n\r\n    const saveFunc = (a, b, c) => {\r\n        console.log(a, b, c);\r\n    }\r\n\r\n    const testFunc = (a, b, c) => {\r\n        console.log(a, b, c);\r\n    }\r\n\r\n\r\n    return (\r\n        <ThemeProvider theme={theme}>\r\n            <Box sx={{ bgcolor: 'background.paper' }}>\r\n                <Tabs\r\n                    style={{ width: \"80%\" }}\r\n                    value={paramValue}\r\n                    onChange={handleChange}\r\n                    variant=\"scrollable\"\r\n                    scrollButtons=\"auto\"\r\n                >\r\n                    {paramDataSourceList.map((obj, i) => {\r\n                        if (obj.isEdit)\r\n                            return (\r\n                                <Tab key={i} id={obj.id} icon={<TextField\r\n                                    hiddenLabel\r\n                                    autoFocus\r\n                                    style={{ width: 130 }}\r\n                                    id={obj.id.toString()}\r\n                                    variant=\"outlined\"\r\n                                    size=\"small\"\r\n                                    value={paramEditingCaption}\r\n                                    onBlur={saveCaptionFunc}\r\n                                    onKeyPress={saveCaptionFunc}\r\n                                    onChange={editTabCaptionFunc}\r\n                                />}\r\n                                />)\r\n                        else\r\n                            return (<Tab key={i} id={obj.id} label={obj.caption} onDoubleClick={updateTabNameFunc} />)\r\n                    })}\r\n\r\n                    <Tab label={\"✚\"} style={{ minWidth: \"48px\", background: \"#c3bfbf\" }} onClick={addNewDataSourceFunc} />\r\n\r\n                </Tabs>\r\n\r\n                {paramDataSourceList.map((obj, i) => {\r\n                    if (validIsEmpty(obj.content))\r\n                        return (\r\n                            <TabPanel style={{ width: \"100%\" }} key={i} value={paramValue} index={i}>\r\n                                <DropzoneArea\r\n                                    style={{ heigth: \"500px\", width: \"600px\" }}\r\n                                    acceptedFiles={['.csv', '.xlsx']}\r\n                                    filesLimit={1}\r\n                                    maxFileSize={1024 * 1024 * 5}\r\n                                    dropzoneText={t('uploadDataSource')}\r\n                                    onChange={uploadFileFunc}\r\n                                    onSave={saveFunc}\r\n                                    initialFiles={testFunc}\r\n                                />\r\n                            </TabPanel>\r\n                        )\r\n                    else\r\n                        return (\r\n                            <TabPanel style={{ width: \"100%\" }} key={i} value={paramValue} index={i}>\r\n                                {obj.content}\r\n                            </TabPanel>\r\n                        )\r\n                })}\r\n\r\n            </Box>\r\n        </ThemeProvider >\r\n    );\r\n}\r\n\r\nexport default DataSource;","import { Tabs, Tab, } from \"@material-ui/core\";\r\nimport React from 'react';\r\nimport { makeStyles, Theme } from '@material-ui/core/styles';\r\nimport './Indicator.css';\r\nimport TabPanel from \"./TabPanel\";\r\nimport DataSource from \"./DataSource\";\r\nimport { useTranslation } from 'react-i18next';\r\nimport DashboardIcon from '@material-ui/icons/Dashboard';\r\nimport EjectIcon from '@material-ui/icons/Eject';\r\nimport MenuBookIcon from '@material-ui/icons/MenuBook';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        flexGrow: 1,\r\n        backgroundColor: theme.palette.background.paper,\r\n        display: 'flex',\r\n        height: '100%',\r\n    },\r\n    tabs: {\r\n        borderRight: `1px solid ${theme.palette.divider}`,\r\n    },\r\n    test: {\r\n        width: '50px !important'\r\n    }\r\n}));\r\n\r\n\r\n\r\nconst SMSPage = () => {\r\n    const { t } = useTranslation();\r\n    const classes = useStyles();\r\n\r\n    const aTabList = [\r\n        {\r\n            caption: t('setting'),\r\n            component: <DashboardIcon />\r\n        },\r\n        {\r\n            caption: t('dataSrouce'),\r\n            component: <DataSource />\r\n        },\r\n        {\r\n            caption: t('smsTool'),\r\n            component: <EjectIcon />\r\n        },\r\n        {\r\n            caption: t('smsScheduler'),\r\n            component: <MenuBookIcon />\r\n        },\r\n    ];\r\n\r\n    const [paramValue, setValue] = React.useState(1);\r\n\r\n    const handleChange = (event, newValue) => {\r\n        setValue(newValue);\r\n    };\r\n\r\n    const a11yProps = (index) => {\r\n        return {\r\n            id: `vertical-tab-${index}`,\r\n            'aria-controls': `vertical-tabpanel-${index}`,\r\n        };\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Tabs\r\n                orientation=\"vertical\"\r\n                variant=\"scrollable\"\r\n                value={paramValue}\r\n                onChange={handleChange}\r\n                aria-label=\"Vertical tabs example\"\r\n                className={classes.tabs}\r\n                componentsprops={{ indicator: { className: 'Indicator' } }}\r\n            >\r\n                {aTabList.map((obj, i) => {\r\n                    return (<Tab key={i} label={obj.caption} {...a11yProps(i)} />)\r\n                })}\r\n\r\n            </Tabs>\r\n\r\n\r\n            {aTabList.map((obj, i) => {\r\n                return (\r\n                    <TabPanel style={{width:\"100%\"}} key={i} value={paramValue} index={i}>\r\n                        {obj.component}\r\n                    </TabPanel>\r\n                )\r\n            })}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SMSPage;"],"sourceRoot":""}